% vim: sw=4 ts=4 et

\begin{tikzpicture}[
        every node/.append style={align=center, minimum width=2cm, minimum height=2cm},
        straight arrow/.style={-{Latex[length=2mm]}},
        symbol node/.append style={minimum width = 0.0cm, minimum height=0.0cm, inner sep=-0.1cm, outer sep=0cm, align=center, draw=none}
    ]
    \footnotesize
    \matrix[draw, column sep=0.5cm, row sep=0.5cm, nodes=draw]
    {
    & \node (DPW2) {DPW2\\Polynomial};
      & \node[symbol node, circle, font={\Huge}] (DPW2 Sum) {$\oplus$};
      & \node[minimum height=1cm] (DPW2 Differentiator) {Differentiator};
      & \node[symbol node,circle, font={\Huge}] (DPW2 Scale) {$\otimes$}; \\
      		\node (registers) {Control\\Registers};
      & \node[minimum height=1cm] (accumulator) {Phase\\Accumulators};
      & \node[draw=none, outer sep=0, minimum width=0] (LFO) {from\\LFO};
      & &\node[symbol node, circle, font={\Huge}] (sum) {$\oplus$}; \\
     & \node (DPW4) {DPW4\\Polynomial};
       & \node[symbol node, circle, font={\Huge}] (DPW4 Sum) {$\oplus$};
       & \node[minimum height=1cm] (DPW4 Differentiator) {Differentiator};
       & \node[symbol node, circle, font={\Huge}] (DPW4 Scale) {$\otimes$}; \\
    };
    \draw[straight arrow] (accumulator.north) -- (DPW2.south);
    \draw[straight arrow] (accumulator.south) -- (DPW4.north);
    %\draw[straight arrow] (registers.north) |- (DPW2.west);
    %\draw[straight arrow] (registers.south) |- (DPW4.west);
    \draw[straight arrow] (registers.east) -- (accumulator.west);
    \draw[straight arrow] (LFO.west) -- (accumulator.east);

    \draw[straight arrow] (DPW2.east) -- (DPW2 Sum.west);
    \draw[straight arrow] (DPW2.east) ++(0,0.75cm) -| (DPW2 Sum.north);
    \draw[straight arrow] (DPW4.east) -- (DPW4 Sum.west);
    \draw[straight arrow] (DPW4.east) ++(0,-0.75cm) -| (DPW4 Sum.south);
    \draw[straight arrow] (DPW2 Sum.east) -- (DPW2 Differentiator.west);
    \draw[straight arrow] (DPW4 Sum.east) -- (DPW4 Differentiator.west);
    \draw[straight arrow] (DPW2 Differentiator.east) -- (DPW2 Scale.west);
    \draw[straight arrow] (DPW4 Differentiator.east) -- (DPW4 Scale.west);
    \draw[straight arrow] (DPW2 Scale.south) -- (sum.north);
    \draw[straight arrow] (DPW4 Scale.north) -- (sum.south);
\end{tikzpicture}
